(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,38490,(e,t,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),Object.defineProperty(l,"warnOnce",{enumerable:!0,get:function(){return r}});let r=e=>{}},75221,(e,t,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var r={assign:function(){return o},searchParamsToUrlQuery:function(){return i},urlQueryToSearchParams:function(){return s}};for(var a in r)Object.defineProperty(l,a,{enumerable:!0,get:r[a]});function i(e){let t={};for(let[l,r]of e.entries()){let e=t[l];void 0===e?t[l]=r:Array.isArray(e)?e.push(r):t[l]=[e,r]}return t}function n(e){return"string"==typeof e?e:("number"!=typeof e||isNaN(e))&&"boolean"!=typeof e?"":String(e)}function s(e){let t=new URLSearchParams;for(let[l,r]of Object.entries(e))if(Array.isArray(r))for(let e of r)t.append(l,n(e));else t.set(l,n(r));return t}function o(e,...t){for(let l of t){for(let t of l.keys())e.delete(t);for(let[t,r]of l.entries())e.append(t,r)}return e}},60081,(e,t,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var r={formatUrl:function(){return s},formatWithValidation:function(){return d},urlObjectKeys:function(){return o}};for(var a in r)Object.defineProperty(l,a,{enumerable:!0,get:r[a]});let i=e.r(35697)._(e.r(75221)),n=/https?|ftp|gopher|file/;function s(e){let{auth:t,hostname:l}=e,r=e.protocol||"",a=e.pathname||"",s=e.hash||"",o=e.query||"",d=!1;t=t?encodeURIComponent(t).replace(/%3A/i,":")+"@":"",e.host?d=t+e.host:l&&(d=t+(~l.indexOf(":")?`[${l}]`:l),e.port&&(d+=":"+e.port)),o&&"object"==typeof o&&(o=String(i.urlQueryToSearchParams(o)));let c=e.search||o&&`?${o}`||"";return r&&!r.endsWith(":")&&(r+=":"),e.slashes||(!r||n.test(r))&&!1!==d?(d="//"+(d||""),a&&"/"!==a[0]&&(a="/"+a)):d||(d=""),s&&"#"!==s[0]&&(s="#"+s),c&&"?"!==c[0]&&(c="?"+c),a=a.replace(/[?#]/g,encodeURIComponent),c=c.replace("#","%23"),`${r}${d}${a}${c}${s}`}let o=["auth","hash","host","hostname","href","path","pathname","port","protocol","query","search","slashes"];function d(e){return s(e)}},60332,(e,t,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),Object.defineProperty(l,"useMergedRef",{enumerable:!0,get:function(){return a}});let r=e.r(95594);function a(e,t){let l=(0,r.useRef)(null),a=(0,r.useRef)(null);return(0,r.useCallback)(r=>{if(null===r){let e=l.current;e&&(l.current=null,e());let t=a.current;t&&(a.current=null,t())}else e&&(l.current=i(e,r)),t&&(a.current=i(t,r))},[e,t])}function i(e,t){if("function"!=typeof e)return e.current=t,()=>{e.current=null};{let l=e(t);return"function"==typeof l?l:()=>e(null)}}("function"==typeof l.default||"object"==typeof l.default&&null!==l.default)&&void 0===l.default.__esModule&&(Object.defineProperty(l.default,"__esModule",{value:!0}),Object.assign(l.default,l),t.exports=l.default)},84089,(e,t,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var r={DecodeError:function(){return g},MiddlewareNotFoundError:function(){return N},MissingStaticPage:function(){return j},NormalizeError:function(){return v},PageNotFoundError:function(){return x},SP:function(){return p},ST:function(){return m},WEB_VITALS:function(){return i},execOnce:function(){return n},getDisplayName:function(){return u},getLocationOrigin:function(){return d},getURL:function(){return c},isAbsoluteUrl:function(){return o},isResSent:function(){return h},loadGetInitialProps:function(){return f},normalizeRepeatedSlashes:function(){return _},stringifyError:function(){return C}};for(var a in r)Object.defineProperty(l,a,{enumerable:!0,get:r[a]});let i=["CLS","FCP","FID","INP","LCP","TTFB"];function n(e){let t,l=!1;return(...r)=>(l||(l=!0,t=e(...r)),t)}let s=/^[a-zA-Z][a-zA-Z\d+\-.]*?:/,o=e=>s.test(e);function d(){let{protocol:e,hostname:t,port:l}=window.location;return`${e}//${t}${l?":"+l:""}`}function c(){let{href:e}=window.location,t=d();return e.substring(t.length)}function u(e){return"string"==typeof e?e:e.displayName||e.name||"Unknown"}function h(e){return e.finished||e.headersSent}function _(e){let t=e.split("?");return t[0].replace(/\\/g,"/").replace(/\/\/+/g,"/")+(t[1]?`?${t.slice(1).join("?")}`:"")}async function f(e,t){let l=t.res||t.ctx&&t.ctx.res;if(!e.getInitialProps)return t.ctx&&t.Component?{pageProps:await f(t.Component,t.ctx)}:{};let r=await e.getInitialProps(t);if(l&&h(l))return r;if(!r)throw Object.defineProperty(Error(`"${u(e)}.getInitialProps()" should resolve to an object. But found "${r}" instead.`),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return r}let p="undefined"!=typeof performance,m=p&&["mark","measure","getEntriesByName"].every(e=>"function"==typeof performance[e]);class g extends Error{}class v extends Error{}class x extends Error{constructor(e){super(),this.code="ENOENT",this.name="PageNotFoundError",this.message=`Cannot find module for page: ${e}`}}class j extends Error{constructor(e,t){super(),this.message=`Failed to load static file for page: ${e} ${t}`}}class N extends Error{constructor(){super(),this.code="ENOENT",this.message="Cannot find the middleware module"}}function C(e){return JSON.stringify({message:e.message,stack:e.stack})}},31105,(e,t,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),Object.defineProperty(l,"isLocalURL",{enumerable:!0,get:function(){return i}});let r=e.r(84089),a=e.r(65535);function i(e){if(!(0,r.isAbsoluteUrl)(e))return!0;try{let t=(0,r.getLocationOrigin)(),l=new URL(e,t);return l.origin===t&&(0,a.hasBasePath)(l.pathname)}catch(e){return!1}}},85542,(e,t,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),Object.defineProperty(l,"errorOnce",{enumerable:!0,get:function(){return r}});let r=e=>{}},61513,(e,t,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var r={default:function(){return g},useLinkStatus:function(){return x}};for(var a in r)Object.defineProperty(l,a,{enumerable:!0,get:r[a]});let i=e.r(35697),n=e.r(94187),s=i._(e.r(95594)),o=e.r(60081),d=e.r(92627),c=e.r(60332),u=e.r(84089),h=e.r(96575);e.r(38490);let _=e.r(36483),f=e.r(31105),p=e.r(88050);function m(e){return"string"==typeof e?e:(0,o.formatUrl)(e)}function g(t){var l;let r,a,i,[o,g]=(0,s.useOptimistic)(_.IDLE_LINK_STATUS),x=(0,s.useRef)(null),{href:j,as:N,children:C,prefetch:y=null,passHref:b,replace:G,shallow:V,scroll:T,onClick:S,onMouseEnter:P,onTouchStart:w,legacyBehavior:B=!1,onNavigate:L,ref:k,unstable_dynamicOnHover:M,...W}=t;r=C,B&&("string"==typeof r||"number"==typeof r)&&(r=(0,n.jsx)("a",{children:r}));let U=s.default.useContext(d.AppRouterContext),I=!1!==y,E=!1!==y?null===(l=y)||"auto"===l?p.FetchStrategy.PPR:p.FetchStrategy.Full:p.FetchStrategy.PPR,{href:F,as:z}=s.default.useMemo(()=>{let e=m(j);return{href:e,as:N?m(N):e}},[j,N]);if(B){if(r?.$$typeof===Symbol.for("react.lazy"))throw Object.defineProperty(Error("`<Link legacyBehavior>` received a direct child that is either a Server Component, or JSX that was loaded with React.lazy(). This is not supported. Either remove legacyBehavior, or make the direct child a Client Component that renders the Link's `<a>` tag."),"__NEXT_ERROR_CODE",{value:"E863",enumerable:!1,configurable:!0});a=s.default.Children.only(r)}let O=B?a&&"object"==typeof a&&a.ref:k,D=s.default.useCallback(e=>(null!==U&&(x.current=(0,_.mountLinkInstance)(e,F,U,E,I,g)),()=>{x.current&&((0,_.unmountLinkForCurrentNavigation)(x.current),x.current=null),(0,_.unmountPrefetchableInstance)(e)}),[I,F,U,E,g]),R={ref:(0,c.useMergedRef)(D,O),onClick(t){B||"function"!=typeof S||S(t),B&&a.props&&"function"==typeof a.props.onClick&&a.props.onClick(t),!U||t.defaultPrevented||function(t,l,r,a,i,n,o){if("undefined"!=typeof window){let d,{nodeName:c}=t.currentTarget;if("A"===c.toUpperCase()&&((d=t.currentTarget.getAttribute("target"))&&"_self"!==d||t.metaKey||t.ctrlKey||t.shiftKey||t.altKey||t.nativeEvent&&2===t.nativeEvent.which)||t.currentTarget.hasAttribute("download"))return;if(!(0,f.isLocalURL)(l)){i&&(t.preventDefault(),location.replace(l));return}if(t.preventDefault(),o){let e=!1;if(o({preventDefault:()=>{e=!0}}),e)return}let{dispatchNavigateAction:u}=e.r(34093);s.default.startTransition(()=>{u(r||l,i?"replace":"push",n??!0,a.current)})}}(t,F,z,x,G,T,L)},onMouseEnter(e){B||"function"!=typeof P||P(e),B&&a.props&&"function"==typeof a.props.onMouseEnter&&a.props.onMouseEnter(e),U&&I&&(0,_.onNavigationIntent)(e.currentTarget,!0===M)},onTouchStart:function(e){B||"function"!=typeof w||w(e),B&&a.props&&"function"==typeof a.props.onTouchStart&&a.props.onTouchStart(e),U&&I&&(0,_.onNavigationIntent)(e.currentTarget,!0===M)}};return(0,u.isAbsoluteUrl)(z)?R.href=z:B&&!b&&("a"!==a.type||"href"in a.props)||(R.href=(0,h.addBasePath)(z)),i=B?s.default.cloneElement(a,R):(0,n.jsx)("a",{...W,...R,children:r}),(0,n.jsx)(v.Provider,{value:o,children:i})}e.r(85542);let v=(0,s.createContext)(_.IDLE_LINK_STATUS),x=()=>(0,s.useContext)(v);("function"==typeof l.default||"object"==typeof l.default&&null!==l.default)&&void 0===l.default.__esModule&&(Object.defineProperty(l.default,"__esModule",{value:!0}),Object.assign(l.default,l),t.exports=l.default)},18046,e=>{e.v({container:"Navbar-module__PUpGsG__container",dialogBody:"Navbar-module__PUpGsG__dialogBody",dialogButtonPrimary:"Navbar-module__PUpGsG__dialogButtonPrimary",dialogButtonSecondary:"Navbar-module__PUpGsG__dialogButtonSecondary",dialogContainer:"Navbar-module__PUpGsG__dialogContainer",dialogFooter:"Navbar-module__PUpGsG__dialogFooter",dialogHeader:"Navbar-module__PUpGsG__dialogHeader",dialogMessage:"Navbar-module__PUpGsG__dialogMessage",dialogOverlay:"Navbar-module__PUpGsG__dialogOverlay",dialogTitle:"Navbar-module__PUpGsG__dialogTitle",dropdownDivider:"Navbar-module__PUpGsG__dropdownDivider",dropdownIcon:"Navbar-module__PUpGsG__dropdownIcon",dropdownItem:"Navbar-module__PUpGsG__dropdownItem",dropdownMenu:"Navbar-module__PUpGsG__dropdownMenu",fadeIn:"Navbar-module__PUpGsG__fadeIn",greetingText:"Navbar-module__PUpGsG__greetingText",loginButton:"Navbar-module__PUpGsG__loginButton",logo:"Navbar-module__PUpGsG__logo",logoIcon:"Navbar-module__PUpGsG__logoIcon",logoText:"Navbar-module__PUpGsG__logoText",menuButton:"Navbar-module__PUpGsG__menuButton",mobileMenuButton:"Navbar-module__PUpGsG__mobileMenuButton",navLink:"Navbar-module__PUpGsG__navLink",navLinks:"Navbar-module__PUpGsG__navLinks",navbar:"Navbar-module__PUpGsG__navbar",registerButton:"Navbar-module__PUpGsG__registerButton",slideUp:"Navbar-module__PUpGsG__slideUp",userActions:"Navbar-module__PUpGsG__userActions",userGreeting:"Navbar-module__PUpGsG__userGreeting",userMenu:"Navbar-module__PUpGsG__userMenu"})},65200,e=>{"use strict";var t=e.i(94187),l=e.i(95594),r=e.i(61513),a=e.i(18046),i=e.i(63486);function n(){let e,{user:n,logout:s}=(0,i.useAuthContext)(),[o,d]=(0,l.useState)(!1),[c,u]=(0,l.useState)(!1),h=async()=>{u(!0);try{await s(),d(!1),window.location.href="/"}catch(e){console.error("Logout failed:",e),u(!1),d(!1)}},_=()=>{d(!1)};return(0,t.jsxs)("nav",{className:a.default.navbar,children:[(0,t.jsxs)("div",{className:a.default.container,children:[(0,t.jsxs)(r.default,{href:"/",className:a.default.logo,children:[(0,t.jsxs)("svg",{className:a.default.logoIcon,width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:[(0,t.jsx)("rect",{width:"24",height:"24",rx:"4",fill:"#1a73e8"}),(0,t.jsx)("path",{d:"M6 15L9 9H12L15 15H13L12.5 13.5H9.5L9 15H6ZM9.5 12H12L10.75 9.5L9.5 12Z",fill:"white"}),(0,t.jsx)("circle",{cx:"17",cy:"15",r:"1.5",fill:"white"})]}),(0,t.jsx)("span",{className:a.default.logoText,children:"车享出行"})]}),(0,t.jsxs)("div",{className:a.default.navLinks,children:[(0,t.jsx)(r.default,{href:"/vehicles",className:a.default.navLink,children:"浏览车辆"}),(0,t.jsx)(r.default,{href:"/how-it-works",className:a.default.navLink,children:"如何运作"}),(0,t.jsx)(r.default,{href:"/become-host",className:a.default.navLink,children:"成为主"})]}),(0,t.jsx)("div",{className:a.default.userActions,children:n?(0,t.jsxs)("div",{className:a.default.userGreeting,children:[(0,t.jsxs)("span",{className:a.default.greetingText,children:[(e=new Date().getHours())>=5&&e<12?"上午好":e>=12&&e<14?"中午好":e>=14&&e<18?"下午好":e>=18&&e<22?"晚上好":"夜深了","，",n.name]}),(0,t.jsxs)("div",{className:a.default.userMenu,children:[(0,t.jsxs)("button",{className:a.default.menuButton,children:[(0,t.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",children:[(0,t.jsx)("path",{d:"M10 12C12.2091 12 14 10.2091 14 8C14 5.79086 12.2091 4 10 4C7.79086 4 6 5.79086 6 8C6 10.2091 7.79086 12 10 12Z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,t.jsx)("path",{d:"M10 14C6.68629 14 4 16.6863 4 20V21H16V20C16 17.2386 13.3137 14 10 14Z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),(0,t.jsx)("svg",{className:a.default.dropdownIcon,width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",children:(0,t.jsx)("path",{d:"M2 4L6 8L10 4",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})]}),(0,t.jsxs)("div",{className:a.default.dropdownMenu,children:[(0,t.jsx)(r.default,{href:"/profile",className:a.default.dropdownItem,children:"个人中心"}),(0,t.jsx)(r.default,{href:"/my-trips",className:a.default.dropdownItem,children:"我的行程"}),(0,t.jsx)(r.default,{href:"/my-vehicles",className:a.default.dropdownItem,children:"我的车辆"}),(0,t.jsx)("div",{className:a.default.dropdownDivider}),(0,t.jsx)("button",{onClick:()=>{d(!0)},className:a.default.dropdownItem,children:"退出登录"})]})]})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(r.default,{href:"/login",className:a.default.loginButton,children:"登录"}),(0,t.jsx)(r.default,{href:"/register",className:a.default.registerButton,children:"注册"})]})}),(0,t.jsx)("button",{className:a.default.mobileMenuButton,"aria-label":"Toggle menu",children:(0,t.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:(0,t.jsx)("path",{d:"M3 12h18M3 6h18M3 18h18",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})})})]}),o&&(0,t.jsx)("div",{className:a.default.dialogOverlay,onClick:_,children:(0,t.jsxs)("div",{className:a.default.dialogContainer,onClick:e=>e.stopPropagation(),children:[(0,t.jsx)("div",{className:a.default.dialogHeader,children:(0,t.jsx)("h3",{className:a.default.dialogTitle,children:"确认退出登录"})}),(0,t.jsx)("div",{className:a.default.dialogBody,children:(0,t.jsx)("p",{className:a.default.dialogMessage,children:"您确定要退出登录吗？"})}),(0,t.jsxs)("div",{className:a.default.dialogFooter,children:[(0,t.jsx)("button",{onClick:_,disabled:c,className:a.default.dialogButtonSecondary,children:"取消"}),(0,t.jsx)("button",{onClick:h,disabled:c,className:a.default.dialogButtonPrimary,children:c?"退出中...":"确认退出"})]})]})})]})}e.s(["default",()=>n],65200)},18370,e=>{e.v({badge:"VehicleCard-module__zCVgeW__badge",badges:"VehicleCard-module__zCVgeW__badges",bookButton:"VehicleCard-module__zCVgeW__bookButton",card:"VehicleCard-module__zCVgeW__card",content:"VehicleCard-module__zCVgeW__content",favoriteButton:"VehicleCard-module__zCVgeW__favoriteButton",footer:"VehicleCard-module__zCVgeW__footer",header:"VehicleCard-module__zCVgeW__header",host:"VehicleCard-module__zCVgeW__host",hostAvatar:"VehicleCard-module__zCVgeW__hostAvatar",hostInfo:"VehicleCard-module__zCVgeW__hostInfo",hostName:"VehicleCard-module__zCVgeW__hostName",hostTrips:"VehicleCard-module__zCVgeW__hostTrips",image:"VehicleCard-module__zCVgeW__image",imageContainer:"VehicleCard-module__zCVgeW__imageContainer",location:"VehicleCard-module__zCVgeW__location",name:"VehicleCard-module__zCVgeW__name",price:"VehicleCard-module__zCVgeW__price",priceUnit:"VehicleCard-module__zCVgeW__priceUnit",priceValue:"VehicleCard-module__zCVgeW__priceValue",rating:"VehicleCard-module__zCVgeW__rating",ratingValue:"VehicleCard-module__zCVgeW__ratingValue",reviewCount:"VehicleCard-module__zCVgeW__reviewCount",spec:"VehicleCard-module__zCVgeW__spec",specs:"VehicleCard-module__zCVgeW__specs"})},63633,e=>{e.v({active:"VehicleFilters-module__SNhiCG__active",activeCount:"VehicleFilters-module__SNhiCG__activeCount",chipButton:"VehicleFilters-module__SNhiCG__chipButton",chipGroup:"VehicleFilters-module__SNhiCG__chipGroup",expanded:"VehicleFilters-module__SNhiCG__expanded",filterActions:"VehicleFilters-module__SNhiCG__filterActions",filterIcon:"VehicleFilters-module__SNhiCG__filterIcon",filterInfo:"VehicleFilters-module__SNhiCG__filterInfo",filterLabel:"VehicleFilters-module__SNhiCG__filterLabel",filterSection:"VehicleFilters-module__SNhiCG__filterSection",filterTitle:"VehicleFilters-module__SNhiCG__filterTitle",filtersContainer:"VehicleFilters-module__SNhiCG__filtersContainer",filtersContent:"VehicleFilters-module__SNhiCG__filtersContent",filtersHeader:"VehicleFilters-module__SNhiCG__filtersHeader",loading:"VehicleFilters-module__SNhiCG__loading",pulse:"VehicleFilters-module__SNhiCG__pulse",resetButton:"VehicleFilters-module__SNhiCG__resetButton",select:"VehicleFilters-module__SNhiCG__select",selectFilterIcon:"VehicleFilters-module__SNhiCG__selectFilterIcon",selectIcon:"VehicleFilters-module__SNhiCG__selectIcon",selectWrapper:"VehicleFilters-module__SNhiCG__selectWrapper",tagButton:"VehicleFilters-module__SNhiCG__tagButton",tagGroup:"VehicleFilters-module__SNhiCG__tagGroup",toggleButton:"VehicleFilters-module__SNhiCG__toggleButton",toggleIcon:"VehicleFilters-module__SNhiCG__toggleIcon",updating:"VehicleFilters-module__SNhiCG__updating"})},44243,e=>{e.v({active:"VehicleGrid-module__7DL0oW__active",count:"VehicleGrid-module__7DL0oW__count",ellipsis:"VehicleGrid-module__7DL0oW__ellipsis",emptyContainer:"VehicleGrid-module__7DL0oW__emptyContainer",emptySubtext:"VehicleGrid-module__7DL0oW__emptySubtext",emptyText:"VehicleGrid-module__7DL0oW__emptyText",errorContainer:"VehicleGrid-module__7DL0oW__errorContainer",errorText:"VehicleGrid-module__7DL0oW__errorText",grid:"VehicleGrid-module__7DL0oW__grid",gridContainer:"VehicleGrid-module__7DL0oW__gridContainer",header:"VehicleGrid-module__7DL0oW__header",loadingContainer:"VehicleGrid-module__7DL0oW__loadingContainer",loadingText:"VehicleGrid-module__7DL0oW__loadingText",pageButton:"VehicleGrid-module__7DL0oW__pageButton",pagination:"VehicleGrid-module__7DL0oW__pagination",retryButton:"VehicleGrid-module__7DL0oW__retryButton",sortSelect:"VehicleGrid-module__7DL0oW__sortSelect",spin:"VehicleGrid-module__7DL0oW__spin",spinner:"VehicleGrid-module__7DL0oW__spinner",title:"VehicleGrid-module__7DL0oW__title"})},39574,e=>{"use strict";var t=e.i(94187),l=e.i(95594),r=e.i(18370);function a({vehicle:e}){return(0,t.jsxs)("div",{className:r.default.card,children:[(0,t.jsxs)("div",{className:r.default.imageContainer,children:[(0,t.jsx)("img",{src:e.image,alt:e.name,className:r.default.image}),(0,t.jsx)("button",{className:r.default.favoriteButton,"aria-label":"收藏",children:(0,t.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",children:(0,t.jsx)("path",{d:"M10 3.5c-2.5-3-7-2.5-7 2 0 3.5 7 9.5 7 9.5s7-6 7-9.5c0-4.5-4.5-5-7-2z",stroke:"currentColor",strokeWidth:"1.5",fill:"none"})})}),(0,t.jsx)("div",{className:r.default.badges,children:e.badges.map(e=>(0,t.jsx)("span",{className:r.default.badge,children:e},e))})]}),(0,t.jsxs)("div",{className:r.default.content,children:[(0,t.jsxs)("div",{className:r.default.header,children:[(0,t.jsx)("h3",{className:r.default.name,children:e.name}),(0,t.jsxs)("div",{className:r.default.rating,children:[(0,t.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:(0,t.jsx)("path",{d:"M8 2l1.8 3.6 4 .6-2.9 2.8.7 4-3.6-1.9-3.6 1.9.7-4-2.9-2.8 4-.6L8 2z",fill:"#F59E0B"})}),(0,t.jsx)("span",{className:r.default.ratingValue,children:e.rating}),(0,t.jsxs)("span",{className:r.default.reviewCount,children:["(",e.reviewCount,")"]})]})]}),(0,t.jsxs)("div",{className:r.default.location,children:[(0,t.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:(0,t.jsx)("path",{d:"M8 2C5.24 2 3 4.24 3 7c0 2.4 5 9 5 9s5-6.6 5-9c0-2.76-2.24-5-5-5zm0 6.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z",fill:"#6B7280"})}),(0,t.jsx)("span",{children:e.location})]}),(0,t.jsxs)("div",{className:r.default.specs,children:[(0,t.jsxs)("div",{className:r.default.spec,children:[(0,t.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:(0,t.jsx)("path",{d:"M2 6h12v8H2zM3 3h2v3H3zm8 0h2v3h-2zM4 9h1v2H4zm3 0h1v2H7zm3 0h1v2h-1z",fill:"#6B7280"})}),(0,t.jsxs)("span",{children:[e.seats,"座"]})]}),(0,t.jsxs)("div",{className:r.default.spec,children:[(0,t.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:[(0,t.jsx)("circle",{cx:"5",cy:"10",r:"2",fill:"#6B7280"}),(0,t.jsx)("circle",{cx:"11",cy:"10",r:"2",fill:"#6B7280"}),(0,t.jsx)("path",{d:"M2 6h12v4H2z",fill:"#6B7280"})]}),(0,t.jsx)("span",{children:e.transmission})]}),(0,t.jsxs)("div",{className:r.default.spec,children:[(0,t.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:(0,t.jsx)("path",{d:"M8 2l1 4h4l-3 3 1 4-3-2-3 2 1-4-3-3h4z",fill:"#6B7280"})}),(0,t.jsx)("span",{children:e.fuel})]})]}),(0,t.jsxs)("div",{className:r.default.host,children:[(0,t.jsx)("div",{className:r.default.hostAvatar,children:e.hostInitial}),(0,t.jsxs)("div",{className:r.default.hostInfo,children:[(0,t.jsx)("div",{className:r.default.hostName,children:e.hostName}),(0,t.jsxs)("div",{className:r.default.hostTrips,children:[e.trips,"次行程"]})]})]}),(0,t.jsxs)("div",{className:r.default.footer,children:[(0,t.jsxs)("div",{className:r.default.price,children:[(0,t.jsxs)("div",{className:r.default.priceValue,children:["¥",e.price]}),(0,t.jsx)("div",{className:r.default.priceUnit,children:"每天"})]}),(0,t.jsx)("button",{className:r.default.bookButton,children:"立即预订"})]})]})]})}var i=e.i(63633);let n=[{value:"all",label:"全部车型"},{value:"sedan",label:"轿车"},{value:"suv",label:"SUV"},{value:"sports",label:"跑车"},{value:"electric",label:"电动车"}],s=[{value:"all",label:"全部价格"},{value:"0-200",label:"¥200以下"},{value:"200-500",label:"¥200-500"},{value:"500+",label:"¥500以上"}];function o({onFiltersChange:e,loading:r=!1}){let a,[o,d]=(0,l.useState)({vehicleType:"all",priceRange:"all",seats:[],fuelTypes:[]}),[c,u]=(0,l.useState)(!1),h="all"!==o.vehicleType||"all"!==o.priceRange||o.seats.length>0||o.fuelTypes.length>0;return(0,t.jsx)("div",{className:`${i.default.filtersContainer} ${r?i.default.loading:""}`,children:(0,t.jsxs)("div",{className:i.default.filtersHeader,children:[(0,t.jsxs)("div",{className:i.default.filterInfo,children:[(0,t.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",className:i.default.filterIcon,children:(0,t.jsx)("path",{d:"M5 4h10M3 8h14M4 12h12M6 16h8",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})}),(0,t.jsx)("span",{className:i.default.filterTitle,children:"筛选条件"}),h&&(0,t.jsxs)("span",{className:i.default.activeCount,children:["(",(a=0,"all"!==o.vehicleType&&a++,"all"!==o.priceRange&&a++,o.seats.length>0&&a++,o.fuelTypes.length>0&&a++,a),")"]})]}),(0,t.jsx)("div",{className:i.default.tagGroup,children:n.map(l=>(0,t.jsx)("button",{className:`${i.default.tagButton} ${o.vehicleType===l.value?i.default.active:""}`,onClick:()=>{var t;let r;return t=l.value,void(d(r={...o,vehicleType:t}),e(r))},disabled:r,children:l.label},l.value))}),(0,t.jsxs)("div",{className:i.default.filterActions,children:[(0,t.jsxs)("div",{className:i.default.selectWrapper,children:[(0,t.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",className:i.default.selectFilterIcon,children:(0,t.jsx)("path",{d:"M5 4h10M3 8h14M4 12h12M6 16h8",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})}),(0,t.jsx)("select",{className:i.default.select,value:o.priceRange,onChange:t=>{var l;let r;return l=t.target.value,void(d(r={...o,priceRange:l}),e(r))},disabled:r,children:s.map(e=>(0,t.jsx)("option",{value:e.value,children:e.label},e.value))}),(0,t.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",className:i.default.selectIcon,children:(0,t.jsx)("path",{d:"M4 6l4 4 4-4",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]}),h&&(0,t.jsx)("button",{className:i.default.resetButton,onClick:()=>{let t={vehicleType:"all",priceRange:"all",seats:[],fuelTypes:[]};d(t),e(t)},disabled:r,children:"清除筛选"})]})]})})}function d(e){var t;let l=e.host?.name||"车主",r=l.charAt(0),a=[];e.host?.isSuperHost&&a.push("超级车主"),e.instantBook&&a.push("即时预订");let i=e.images&&e.images.length>0?e.images[0]:e.image||"https://images.unsplash.com/photo-1618843479313-40f8afb4b4d8?w=400&h=250&fit=crop";return{id:e.id,name:e.name,image:i,rating:Number(e.rating)||0,reviewCount:e.reviewCount||0,location:e.location,seats:e.seats,transmission:"AUTOMATIC"===e.transmission?"自动":"手动",fuel:({PETROL:"汽油",ELECTRIC:"电动",HYBRID:"混合",DIESEL:"柴油"})[t=e.fuel]||t,hostName:l,hostInitial:r,trips:e.host?.trips||0,price:Number(e.price)||0,badges:a}}async function c(e){try{let t=new URLSearchParams;e?.location&&t.append("location",e.location),e?.startDate&&t.append("startDate",e.startDate),e?.endDate&&t.append("endDate",e.endDate),e?.vehicleType&&t.append("vehicleType",e.vehicleType),e?.minPrice!==void 0&&t.append("minPrice",e.minPrice.toString()),e?.maxPrice!==void 0&&t.append("maxPrice",e.maxPrice.toString()),e?.seats!==void 0&&(Array.isArray(e.seats)?e.seats.forEach(e=>t.append("seats",e.toString())):t.append("seats",e.seats.toString())),e?.transmission&&t.append("transmission",e.transmission),e?.fuelType!==void 0&&(Array.isArray(e.fuelType)?e.fuelType.forEach(e=>{t.append("fuelType",{汽油:"PETROL",电动:"ELECTRIC",混动:"HYBRID"}[e]||e)}):t.append("fuelType",e.fuelType)),e?.brand&&t.append("brand",e.brand),e?.sortBy&&t.append("sortBy",e.sortBy),t.append("page",(e?.page||0).toString()),t.append("size",(e?.size||20).toString());let l=`http://localhost:8080/api/v1/vehicles${t.toString()?"?"+t.toString():""}`,r=await fetch(l,{method:"GET",headers:{"Content-Type":"application/json"}});if(!r.ok)throw Error(`API error: ${r.status} ${r.statusText}`);let a=await r.json();if(200!==a.code||!a.data)throw Error(a.message||"Failed to fetch vehicles");let{items:i,total:n,totalPages:s}=a.data;return{vehicles:i.map(d),total:n,totalPages:s}}catch(e){throw console.error("Error fetching vehicles:",e),e}}e.i(85171);var u=e.i(44243);function h(){let[e,r]=(0,l.useState)([]),[i,n]=(0,l.useState)(!0),[s,d]=(0,l.useState)(null),[h,_]=(0,l.useState)(0),[f,p]=(0,l.useState)("recommended"),[m,g]=(0,l.useState)(0),[v,x]=(0,l.useState)({vehicleType:"all",priceRange:"all",seats:[],fuelTypes:[]}),[j,N]=(0,l.useState)({vehicleType:"all",priceRange:"all",seats:[],fuelTypes:[]});(0,l.useEffect)(()=>{C()},[f,m,j]);let C=async()=>{try{let e,t;if(n(!0),d(null),"all"!==j.priceRange){let l=j.priceRange;if("500+"===l)e=500;else if("0-200"===l)e=0,t=200;else{let[r,a]=l.split("-").map(e=>parseInt(e));e=r,t=a}}let l="all"===j.vehicleType?void 0:j.vehicleType.toUpperCase(),{vehicles:a,total:i}=await c({vehicleType:l,minPrice:e,maxPrice:t,seats:j.seats.length>0?j.seats:void 0,fuelType:j.fuelTypes.length>0?j.fuelTypes:void 0,sortBy:{recommended:"rating_desc","price-low":"price_asc","price-high":"price_desc",rating:"rating_desc"}[f],page:m,size:16});r(a),_(i)}catch(e){console.error("Failed to fetch vehicles:",e),d(e instanceof Error?e.message:"加载车辆数据失败，请稍后重试")}finally{n(!1)}},y=Math.ceil(h/16),b=e=>{g(e),window.scrollTo({top:0,behavior:"smooth"})},G=e=>{p(e.target.value),g(0)},V=e=>{x(e),N(e),g(0)};return i?(0,t.jsxs)("div",{className:u.default.gridContainer,children:[(0,t.jsx)("div",{className:u.default.header,children:(0,t.jsxs)("h2",{className:u.default.title,children:["可租车辆",(0,t.jsx)("span",{className:u.default.count,children:"(加载中...)"})]})}),(0,t.jsx)(o,{onFiltersChange:V,loading:!0}),(0,t.jsxs)("div",{className:u.default.loadingContainer,children:[(0,t.jsx)("div",{className:u.default.spinner}),(0,t.jsx)("p",{className:u.default.loadingText,children:"正在加载车辆数据..."})]})]}):s?(0,t.jsxs)("div",{className:u.default.gridContainer,children:[(0,t.jsx)("div",{className:u.default.header,children:(0,t.jsxs)("h2",{className:u.default.title,children:["可租车辆",(0,t.jsx)("span",{className:u.default.count,children:"(0)"})]})}),(0,t.jsx)(o,{onFiltersChange:V,loading:!1}),(0,t.jsxs)("div",{className:u.default.errorContainer,children:[(0,t.jsx)("p",{className:u.default.errorText,children:s}),(0,t.jsx)("button",{onClick:C,className:u.default.retryButton,children:"重新加载"})]})]}):0===e.length?(0,t.jsxs)("div",{className:u.default.gridContainer,children:[(0,t.jsxs)("div",{className:u.default.header,children:[(0,t.jsxs)("h2",{className:u.default.title,children:["可租车辆",(0,t.jsx)("span",{className:u.default.count,children:"(0)"})]}),(0,t.jsxs)("select",{className:u.default.sortSelect,value:f,onChange:G,children:[(0,t.jsx)("option",{value:"recommended",children:"推荐排序"}),(0,t.jsx)("option",{value:"price-low",children:"价格从低到高"}),(0,t.jsx)("option",{value:"price-high",children:"价格从高到低"}),(0,t.jsx)("option",{value:"rating",children:"评分最高"})]})]}),(0,t.jsx)(o,{onFiltersChange:V,loading:!1}),(0,t.jsxs)("div",{className:u.default.emptyContainer,children:[(0,t.jsx)("p",{className:u.default.emptyText,children:"暂无可用车辆"}),(0,t.jsx)("p",{className:u.default.emptySubtext,children:"请尝试调整筛选条件"})]})]}):(0,t.jsxs)("div",{className:u.default.gridContainer,children:[(0,t.jsxs)("div",{className:u.default.header,children:[(0,t.jsxs)("h2",{className:u.default.title,children:["可租车辆",(0,t.jsxs)("span",{className:u.default.count,children:["(",h,")"]})]}),(0,t.jsxs)("select",{className:u.default.sortSelect,value:f,onChange:G,children:[(0,t.jsx)("option",{value:"recommended",children:"推荐排序"}),(0,t.jsx)("option",{value:"price-low",children:"价格从低到高"}),(0,t.jsx)("option",{value:"price-high",children:"价格从高到低"}),(0,t.jsx)("option",{value:"rating",children:"评分最高"})]})]}),(0,t.jsx)(o,{onFiltersChange:V,loading:!1}),(0,t.jsx)("div",{className:u.default.grid,children:e.map(e=>(0,t.jsx)(a,{vehicle:e},e.id))}),(()=>{if(y<=1)return null;let e=[];if(y<=5)for(let t=0;t<y;t++)e.push(t);else{e.push(0),m>2&&e.push("...");let t=Math.max(1,m-1),l=Math.min(y-2,m+1);for(let r=t;r<=l;r++)e.push(r);m<y-3&&e.push("..."),e.push(y-1)}return(0,t.jsxs)("div",{className:u.default.pagination,children:[(0,t.jsx)("button",{className:u.default.pageButton,onClick:()=>b(m-1),disabled:0===m,children:"上一页"}),e.map((e,l)=>"..."===e?(0,t.jsx)("span",{className:u.default.ellipsis,children:"..."},`ellipsis-${l}`):(0,t.jsx)("button",{className:`${u.default.pageButton} ${m===e?u.default.active:""}`,onClick:()=>b(e),children:e+1},e)),(0,t.jsx)("button",{className:u.default.pageButton,onClick:()=>b(m+1),disabled:m===y-1,children:"下一页"})]})})()]})}e.s(["default",()=>h],39574)}]);