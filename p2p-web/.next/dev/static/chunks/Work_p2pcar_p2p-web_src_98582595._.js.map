{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 3, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/Work/p2pcar/p2p-web/src/components/VehicleCard.module.css [app-client] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"badge\": \"VehicleCard-module__zCVgeW__badge\",\n  \"badges\": \"VehicleCard-module__zCVgeW__badges\",\n  \"bookButton\": \"VehicleCard-module__zCVgeW__bookButton\",\n  \"card\": \"VehicleCard-module__zCVgeW__card\",\n  \"content\": \"VehicleCard-module__zCVgeW__content\",\n  \"favoriteButton\": \"VehicleCard-module__zCVgeW__favoriteButton\",\n  \"footer\": \"VehicleCard-module__zCVgeW__footer\",\n  \"header\": \"VehicleCard-module__zCVgeW__header\",\n  \"host\": \"VehicleCard-module__zCVgeW__host\",\n  \"hostAvatar\": \"VehicleCard-module__zCVgeW__hostAvatar\",\n  \"hostInfo\": \"VehicleCard-module__zCVgeW__hostInfo\",\n  \"hostName\": \"VehicleCard-module__zCVgeW__hostName\",\n  \"hostTrips\": \"VehicleCard-module__zCVgeW__hostTrips\",\n  \"image\": \"VehicleCard-module__zCVgeW__image\",\n  \"imageContainer\": \"VehicleCard-module__zCVgeW__imageContainer\",\n  \"location\": \"VehicleCard-module__zCVgeW__location\",\n  \"name\": \"VehicleCard-module__zCVgeW__name\",\n  \"price\": \"VehicleCard-module__zCVgeW__price\",\n  \"priceUnit\": \"VehicleCard-module__zCVgeW__priceUnit\",\n  \"priceValue\": \"VehicleCard-module__zCVgeW__priceValue\",\n  \"rating\": \"VehicleCard-module__zCVgeW__rating\",\n  \"ratingValue\": \"VehicleCard-module__zCVgeW__ratingValue\",\n  \"reviewCount\": \"VehicleCard-module__zCVgeW__reviewCount\",\n  \"spec\": \"VehicleCard-module__zCVgeW__spec\",\n  \"specs\": \"VehicleCard-module__zCVgeW__specs\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 34, "column": 0}, "map": {"version":3,"sources":["file:///Users/nan.jiang/Work/p2pcar/p2p-web/src/components/VehicleCard.tsx"],"sourcesContent":["import styles from './VehicleCard.module.css';\nimport { Vehicle } from '@/types/api';\n\ninterface VehicleCardProps {\n  vehicle: Vehicle;\n}\n\nexport default function VehicleCard({ vehicle }: VehicleCardProps) {\n  return (\n    <div className={styles.card}>\n      <div className={styles.imageContainer}>\n        <img src={vehicle.image} alt={vehicle.name} className={styles.image} />\n        <button className={styles.favoriteButton} aria-label=\"收藏\">\n          <svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\">\n            <path d=\"M10 3.5c-2.5-3-7-2.5-7 2 0 3.5 7 9.5 7 9.5s7-6 7-9.5c0-4.5-4.5-5-7-2z\" stroke=\"currentColor\" strokeWidth=\"1.5\" fill=\"none\"/>\n          </svg>\n        </button>\n        <div className={styles.badges}>\n          {vehicle.badges.map((badge) => (\n            <span key={badge} className={styles.badge}>{badge}</span>\n          ))}\n        </div>\n      </div>\n      <div className={styles.content}>\n        <div className={styles.header}>\n          <h3 className={styles.name}>{vehicle.name}</h3>\n          <div className={styles.rating}>\n            <svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\">\n              <path d=\"M8 2l1.8 3.6 4 .6-2.9 2.8.7 4-3.6-1.9-3.6 1.9.7-4-2.9-2.8 4-.6L8 2z\" fill=\"#F59E0B\"/>\n            </svg>\n            <span className={styles.ratingValue}>{vehicle.rating}</span>\n            <span className={styles.reviewCount}>({vehicle.reviewCount})</span>\n          </div>\n        </div>\n        <div className={styles.location}>\n          <svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\">\n            <path d=\"M8 2C5.24 2 3 4.24 3 7c0 2.4 5 9 5 9s5-6.6 5-9c0-2.76-2.24-5-5-5zm0 6.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z\" fill=\"#6B7280\"/>\n          </svg>\n          <span>{vehicle.location}</span>\n        </div>\n        <div className={styles.specs}>\n          <div className={styles.spec}>\n            <svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\">\n              <path d=\"M2 6h12v8H2zM3 3h2v3H3zm8 0h2v3h-2zM4 9h1v2H4zm3 0h1v2H7zm3 0h1v2h-1z\" fill=\"#6B7280\"/>\n            </svg>\n            <span>{vehicle.seats}座</span>\n          </div>\n          <div className={styles.spec}>\n            <svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\">\n              <circle cx=\"5\" cy=\"10\" r=\"2\" fill=\"#6B7280\"/>\n              <circle cx=\"11\" cy=\"10\" r=\"2\" fill=\"#6B7280\"/>\n              <path d=\"M2 6h12v4H2z\" fill=\"#6B7280\"/>\n            </svg>\n            <span>{vehicle.transmission}</span>\n          </div>\n          <div className={styles.spec}>\n            <svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\">\n              <path d=\"M8 2l1 4h4l-3 3 1 4-3-2-3 2 1-4-3-3h4z\" fill=\"#6B7280\"/>\n            </svg>\n            <span>{vehicle.fuel}</span>\n          </div>\n        </div>\n        <div className={styles.host}>\n          <div className={styles.hostAvatar}>{vehicle.hostInitial}</div>\n          <div className={styles.hostInfo}>\n            <div className={styles.hostName}>{vehicle.hostName}</div>\n            <div className={styles.hostTrips}>{vehicle.trips}次行程</div>\n          </div>\n        </div>\n        <div className={styles.footer}>\n          <div className={styles.price}>\n            <div className={styles.priceValue}>¥{vehicle.price}</div>\n            <div className={styles.priceUnit}>每天</div>\n          </div>\n          <button className={styles.bookButton}>立即预订</button>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 456, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/Work/p2pcar/p2p-web/src/components/VehicleFilters.module.css [app-client] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"active\": \"VehicleFilters-module__SNhiCG__active\",\n  \"activeCount\": \"VehicleFilters-module__SNhiCG__activeCount\",\n  \"chipButton\": \"VehicleFilters-module__SNhiCG__chipButton\",\n  \"chipGroup\": \"VehicleFilters-module__SNhiCG__chipGroup\",\n  \"expanded\": \"VehicleFilters-module__SNhiCG__expanded\",\n  \"filterActions\": \"VehicleFilters-module__SNhiCG__filterActions\",\n  \"filterIcon\": \"VehicleFilters-module__SNhiCG__filterIcon\",\n  \"filterInfo\": \"VehicleFilters-module__SNhiCG__filterInfo\",\n  \"filterLabel\": \"VehicleFilters-module__SNhiCG__filterLabel\",\n  \"filterSection\": \"VehicleFilters-module__SNhiCG__filterSection\",\n  \"filterTitle\": \"VehicleFilters-module__SNhiCG__filterTitle\",\n  \"filtersContainer\": \"VehicleFilters-module__SNhiCG__filtersContainer\",\n  \"filtersContent\": \"VehicleFilters-module__SNhiCG__filtersContent\",\n  \"filtersHeader\": \"VehicleFilters-module__SNhiCG__filtersHeader\",\n  \"loading\": \"VehicleFilters-module__SNhiCG__loading\",\n  \"pulse\": \"VehicleFilters-module__SNhiCG__pulse\",\n  \"resetButton\": \"VehicleFilters-module__SNhiCG__resetButton\",\n  \"select\": \"VehicleFilters-module__SNhiCG__select\",\n  \"selectIcon\": \"VehicleFilters-module__SNhiCG__selectIcon\",\n  \"selectWrapper\": \"VehicleFilters-module__SNhiCG__selectWrapper\",\n  \"tagButton\": \"VehicleFilters-module__SNhiCG__tagButton\",\n  \"tagGroup\": \"VehicleFilters-module__SNhiCG__tagGroup\",\n  \"toggleButton\": \"VehicleFilters-module__SNhiCG__toggleButton\",\n  \"toggleIcon\": \"VehicleFilters-module__SNhiCG__toggleIcon\",\n  \"updating\": \"VehicleFilters-module__SNhiCG__updating\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 487, "column": 0}, "map": {"version":3,"sources":["file:///Users/nan.jiang/Work/p2pcar/p2p-web/src/components/VehicleFilters.tsx"],"sourcesContent":["'use client';\n\nimport { useState } from 'react';\nimport styles from './VehicleFilters.module.css';\n\n// Filter types\nexport type VehicleType = 'all' | 'sedan' | 'suv' | 'mpv' | 'sports' | 'electric';\nexport type PriceRange = 'all' | '0-200' | '200-500' | '500-1000' | '1000+';\n\nexport interface VehicleFiltersProps {\n  onFiltersChange: (filters: VehicleFilterValues) => void;\n  loading?: boolean;\n}\n\nexport interface VehicleFilterValues {\n  vehicleType: VehicleType;\n  priceRange: PriceRange;\n  seats: number[];\n  fuelTypes: string[];\n}\n\nconst VEHICLE_TYPES = [\n  { value: 'all' as VehicleType, label: '全部车型' },\n  { value: 'sedan' as VehicleType, label: '轿车' },\n  { value: 'suv' as VehicleType, label: 'SUV' },\n  { value: 'mpv' as VehicleType, label: 'MPV' },\n  { value: 'sports' as VehicleType, label: '跑车' },\n  { value: 'electric' as VehicleType, label: '电动车' },\n];\n\nconst PRICE_RANGES = [\n  { value: 'all' as PriceRange, label: '全部价格' },\n  { value: '0-200' as PriceRange, label: '¥200 以下' },\n  { value: '200-500' as PriceRange, label: '¥200-500' },\n  { value: '500-1000' as PriceRange, label: '¥500-1000' },\n  { value: '1000+' as PriceRange, label: '¥1000 以上' },\n];\n\nconst SEATS_OPTIONS = [4, 5, 6, 7];\n\nconst FUEL_TYPES = ['汽油', '电动', '混动'];\n\nexport default function VehicleFilters({ onFiltersChange, loading = false }: VehicleFiltersProps) {\n  const [filters, setFilters] = useState<VehicleFilterValues>({\n    vehicleType: 'all',\n    priceRange: 'all',\n    seats: [],\n    fuelTypes: [],\n  });\n\n  const [isExpanded, setIsExpanded] = useState(false);\n\n  const handleVehicleTypeChange = (type: VehicleType) => {\n    const newFilters = { ...filters, vehicleType: type };\n    setFilters(newFilters);\n    onFiltersChange(newFilters);\n  };\n\n  const handlePriceRangeChange = (range: PriceRange) => {\n    const newFilters = { ...filters, priceRange: range };\n    setFilters(newFilters);\n    onFiltersChange(newFilters);\n  };\n\n  const handleSeatToggle = (seat: number) => {\n    const newSeats = filters.seats.includes(seat)\n      ? filters.seats.filter(s => s !== seat)\n      : [...filters.seats, seat];\n    const newFilters = { ...filters, seats: newSeats };\n    setFilters(newFilters);\n    onFiltersChange(newFilters);\n  };\n\n  const handleFuelTypeToggle = (fuelType: string) => {\n    const newFuelTypes = filters.fuelTypes.includes(fuelType)\n      ? filters.fuelTypes.filter(f => f !== fuelType)\n      : [...filters.fuelTypes, fuelType];\n    const newFilters = { ...filters, fuelTypes: newFuelTypes };\n    setFilters(newFilters);\n    onFiltersChange(newFilters);\n  };\n\n  const handleReset = () => {\n    const resetFilters: VehicleFilterValues = {\n      vehicleType: 'all',\n      priceRange: 'all',\n      seats: [],\n      fuelTypes: [],\n    };\n    setFilters(resetFilters);\n    onFiltersChange(resetFilters);\n  };\n\n  const hasActiveFilters =\n    filters.vehicleType !== 'all' ||\n    filters.priceRange !== 'all' ||\n    filters.seats.length > 0 ||\n    filters.fuelTypes.length > 0;\n\n  const getActiveFilterCount = () => {\n    let count = 0;\n    if (filters.vehicleType !== 'all') count++;\n    if (filters.priceRange !== 'all') count++;\n    if (filters.seats.length > 0) count++;\n    if (filters.fuelTypes.length > 0) count++;\n    return count;\n  };\n\n  return (\n    <div className={`${styles.filtersContainer} ${loading ? styles.loading : ''}`}>\n      {/* Header */}\n      <div className={styles.filtersHeader}>\n        <div className={styles.filterInfo}>\n          <svg\n            width=\"20\"\n            height=\"20\"\n            viewBox=\"0 0 20 20\"\n            fill=\"none\"\n            className={styles.filterIcon}\n          >\n            <path\n              d=\"M5 4h10M3 8h14M4 12h12M6 16h8\"\n              stroke=\"currentColor\"\n              strokeWidth=\"2\"\n              strokeLinecap=\"round\"\n            />\n          </svg>\n          <span className={styles.filterTitle}>筛选条件</span>\n          {hasActiveFilters && (\n            <span className={styles.activeCount}>({getActiveFilterCount()})</span>\n          )}\n        </div>\n        <div className={styles.filterActions}>\n          {hasActiveFilters && (\n            <button\n              className={styles.resetButton}\n              onClick={handleReset}\n              disabled={loading}\n            >\n              清除筛选\n            </button>\n          )}\n          <button\n            className={styles.toggleButton}\n            onClick={() => setIsExpanded(!isExpanded)}\n            aria-label={isExpanded ? '收起筛选' : '展开筛选'}\n          >\n            <svg\n              width=\"16\"\n              height=\"16\"\n              viewBox=\"0 0 16 16\"\n              fill=\"none\"\n              className={`${styles.toggleIcon} ${isExpanded ? styles.expanded : ''}`}\n            >\n              <path\n                d=\"M4 6l4 4 4-4\"\n                stroke=\"currentColor\"\n                strokeWidth=\"2\"\n                strokeLinecap=\"round\"\n                strokeLinejoin=\"round\"\n              />\n            </svg>\n          </button>\n        </div>\n      </div>\n\n      {/* Filters */}\n      <div className={`${styles.filtersContent} ${isExpanded ? styles.expanded : ''}`}>\n        {/* Vehicle Type */}\n        <div className={styles.filterSection}>\n          <label className={styles.filterLabel}>车型</label>\n          <div className={styles.tagGroup}>\n            {VEHICLE_TYPES.map((type) => (\n              <button\n                key={type.value}\n                className={`${styles.tagButton} ${filters.vehicleType === type.value ? styles.active : ''}`}\n                onClick={() => handleVehicleTypeChange(type.value)}\n                disabled={loading}\n              >\n                {type.label}\n              </button>\n            ))}\n          </div>\n        </div>\n\n        {/* Price Range */}\n        <div className={styles.filterSection}>\n          <label className={styles.filterLabel}>价格区间</label>\n          <div className={styles.selectWrapper}>\n            <select\n              className={styles.select}\n              value={filters.priceRange}\n              onChange={(e) => handlePriceRangeChange(e.target.value as PriceRange)}\n              disabled={loading}\n            >\n              {PRICE_RANGES.map((range) => (\n                <option key={range.value} value={range.value}>\n                  {range.label}\n                </option>\n              ))}\n            </select>\n            <svg\n              width=\"16\"\n              height=\"16\"\n              viewBox=\"0 0 16 16\"\n              fill=\"none\"\n              className={styles.selectIcon}\n            >\n              <path\n                d=\"M4 6l4 4 4-4\"\n                stroke=\"currentColor\"\n                strokeWidth=\"2\"\n                strokeLinecap=\"round\"\n                strokeLinejoin=\"round\"\n              />\n            </svg>\n          </div>\n        </div>\n\n        {/* Seats */}\n        <div className={styles.filterSection}>\n          <label className={styles.filterLabel}>座位数</label>\n          <div className={styles.chipGroup}>\n            {SEATS_OPTIONS.map((seat) => (\n              <button\n                key={seat}\n                className={`${styles.chipButton} ${filters.seats.includes(seat) ? styles.active : ''}`}\n                onClick={() => handleSeatToggle(seat)}\n                disabled={loading}\n              >\n                {seat}座\n              </button>\n            ))}\n          </div>\n        </div>\n\n        {/* Fuel Type */}\n        <div className={styles.filterSection}>\n          <label className={styles.filterLabel}>燃料类型</label>\n          <div className={styles.chipGroup}>\n            {FUEL_TYPES.map((fuel) => (\n              <button\n                key={fuel}\n                className={`${styles.chipButton} ${filters.fuelTypes.includes(fuel) ? styles.active : ''}`}\n                onClick={() => handleFuelTypeToggle(fuel)}\n                disabled={loading}\n              >\n                {fuel}\n              </button>\n            ))}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 936, "column": 0}, "map": {"version":3,"sources":["file:///Users/nan.jiang/Work/p2pcar/p2p-web/src/services/vehicleApi.ts"],"sourcesContent":["import { ApiResponse, PageResponse, VehicleResponse, Vehicle } from '@/types/api';\n\nconst API_BASE_URL = process.env.NEXT_PUBLIC_API_BASE_URL || 'http://localhost:8080/api/v1';\n\n/**\n * Transform backend VehicleResponse to frontend Vehicle interface\n */\nfunction transformVehicleResponse(response: VehicleResponse): Vehicle {\n  // Get host initial from host name (first character)\n  const hostName = response.host?.name || '车主';\n  const hostInitial = hostName.charAt(0);\n\n  // Build badges list from backend data\n  const badges: string[] = [];\n  if (response.host?.isSuperHost) {\n    badges.push('超级车主');\n  }\n  if (response.instantBook) {\n    badges.push('即时预订');\n  }\n\n  // Use first image from images array or fallback to image field\n  const imageUrl = response.images && response.images.length > 0\n    ? response.images[0]\n    : response.image || 'https://images.unsplash.com/photo-1618843479313-40f8afb4b4d8?w=400&h=250&fit=crop';\n\n  return {\n    id: response.id,\n    name: response.name,\n    image: imageUrl,\n    rating: Number(response.rating) || 0,\n    reviewCount: response.reviewCount || 0,\n    location: response.location,\n    seats: response.seats,\n    transmission: response.transmission === 'AUTOMATIC' ? '自动' : '手动',\n    fuel: getFuelTypeLabel(response.fuel),\n    hostName,\n    hostInitial,\n    trips: response.host?.trips || 0,\n    price: Number(response.price) || 0,\n    badges\n  };\n}\n\n/**\n * Map backend fuel type to Chinese label\n */\nfunction getFuelTypeLabel(fuelType: string): string {\n  const fuelMap: Record<string, string> = {\n    'PETROL': '汽油',\n    'ELECTRIC': '电动',\n    'HYBRID': '混合',\n    'DIESEL': '柴油'\n  };\n  return fuelMap[fuelType] || fuelType;\n}\n\n/**\n * Search vehicles with optional filters\n */\nexport async function searchVehicles(params?: {\n  location?: string;\n  startDate?: string;\n  endDate?: string;\n  vehicleType?: string;\n  minPrice?: number;\n  maxPrice?: number;\n  seats?: number | number[];\n  transmission?: string;\n  fuelType?: string | string[];\n  brand?: string;\n  sortBy?: string;\n  page?: number;\n  size?: number;\n}): Promise<{ vehicles: Vehicle[]; total: number; totalPages: number }> {\n  try {\n    // Build query parameters\n    const queryParams = new URLSearchParams();\n\n    if (params?.location) queryParams.append('location', params.location);\n    if (params?.startDate) queryParams.append('startDate', params.startDate);\n    if (params?.endDate) queryParams.append('endDate', params.endDate);\n    if (params?.vehicleType) queryParams.append('vehicleType', params.vehicleType);\n    if (params?.minPrice !== undefined) queryParams.append('minPrice', params.minPrice.toString());\n    if (params?.maxPrice !== undefined) queryParams.append('maxPrice', params.maxPrice.toString());\n\n    // Handle array parameters for seats\n    if (params?.seats !== undefined) {\n      if (Array.isArray(params.seats)) {\n        params.seats.forEach(seat => queryParams.append('seats', seat.toString()));\n      } else {\n        queryParams.append('seats', params.seats.toString());\n      }\n    }\n\n    if (params?.transmission) queryParams.append('transmission', params.transmission);\n\n    // Handle array parameters for fuelType\n    if (params?.fuelType !== undefined) {\n      if (Array.isArray(params.fuelType)) {\n        params.fuelType.forEach(fuel => {\n          // Map Chinese fuel types to backend enum values\n          const fuelTypeMap: Record<string, string> = {\n            '汽油': 'PETROL',\n            '电动': 'ELECTRIC',\n            '混动': 'HYBRID'\n          };\n          const backendFuelType = fuelTypeMap[fuel] || fuel;\n          queryParams.append('fuelType', backendFuelType);\n        });\n      } else {\n        queryParams.append('fuelType', params.fuelType);\n      }\n    }\n\n    if (params?.brand) queryParams.append('brand', params.brand);\n    if (params?.sortBy) queryParams.append('sortBy', params.sortBy);\n    queryParams.append('page', (params?.page || 0).toString());\n    queryParams.append('size', (params?.size || 20).toString());\n\n    const url = `${API_BASE_URL}/vehicles${queryParams.toString() ? '?' + queryParams.toString() : ''}`;\n\n    const response = await fetch(url, {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n    });\n\n    if (!response.ok) {\n      throw new Error(`API error: ${response.status} ${response.statusText}`);\n    }\n\n    const apiResponse: ApiResponse<PageResponse<VehicleResponse>> = await response.json();\n\n    if (apiResponse.code !== 200 || !apiResponse.data) {\n      throw new Error(apiResponse.message || 'Failed to fetch vehicles');\n    }\n\n    const { items, total, totalPages } = apiResponse.data;\n    const vehicles = items.map(transformVehicleResponse);\n\n    return { vehicles, total, totalPages };\n  } catch (error) {\n    console.error('Error fetching vehicles:', error);\n    throw error;\n  }\n}\n\n/**\n * Get vehicle by ID\n */\nexport async function getVehicleById(id: number): Promise<Vehicle> {\n  try {\n    const response = await fetch(`${API_BASE_URL}/vehicles/${id}`, {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n    });\n\n    if (!response.ok) {\n      throw new Error(`API error: ${response.status} ${response.statusText}`);\n    }\n\n    const apiResponse: ApiResponse<VehicleResponse> = await response.json();\n\n    if (apiResponse.code !== 200 || !apiResponse.data) {\n      throw new Error(apiResponse.message || 'Failed to fetch vehicle');\n    }\n\n    return transformVehicleResponse(apiResponse.data);\n  } catch (error) {\n    console.error('Error fetching vehicle:', error);\n    throw error;\n  }\n}\n\n/**\n * Get distinct locations\n */\nexport async function getLocations(): Promise<string[]> {\n  try {\n    const response = await fetch(`${API_BASE_URL}/vehicles/search/locations`, {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n    });\n\n    if (!response.ok) {\n      throw new Error(`API error: ${response.status} ${response.statusText}`);\n    }\n\n    const apiResponse: ApiResponse<string[]> = await response.json();\n\n    if (apiResponse.code !== 200 || !apiResponse.data) {\n      throw new Error(apiResponse.message || 'Failed to fetch locations');\n    }\n\n    return apiResponse.data;\n  } catch (error) {\n    console.error('Error fetching locations:', error);\n    throw error;\n  }\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1104, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/Work/p2pcar/p2p-web/src/components/VehicleGrid.module.css [app-client] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"active\": \"VehicleGrid-module__7DL0oW__active\",\n  \"count\": \"VehicleGrid-module__7DL0oW__count\",\n  \"ellipsis\": \"VehicleGrid-module__7DL0oW__ellipsis\",\n  \"emptyContainer\": \"VehicleGrid-module__7DL0oW__emptyContainer\",\n  \"emptySubtext\": \"VehicleGrid-module__7DL0oW__emptySubtext\",\n  \"emptyText\": \"VehicleGrid-module__7DL0oW__emptyText\",\n  \"errorContainer\": \"VehicleGrid-module__7DL0oW__errorContainer\",\n  \"errorText\": \"VehicleGrid-module__7DL0oW__errorText\",\n  \"grid\": \"VehicleGrid-module__7DL0oW__grid\",\n  \"gridContainer\": \"VehicleGrid-module__7DL0oW__gridContainer\",\n  \"header\": \"VehicleGrid-module__7DL0oW__header\",\n  \"loadingContainer\": \"VehicleGrid-module__7DL0oW__loadingContainer\",\n  \"loadingText\": \"VehicleGrid-module__7DL0oW__loadingText\",\n  \"pageButton\": \"VehicleGrid-module__7DL0oW__pageButton\",\n  \"pagination\": \"VehicleGrid-module__7DL0oW__pagination\",\n  \"retryButton\": \"VehicleGrid-module__7DL0oW__retryButton\",\n  \"sortSelect\": \"VehicleGrid-module__7DL0oW__sortSelect\",\n  \"spin\": \"VehicleGrid-module__7DL0oW__spin\",\n  \"spinner\": \"VehicleGrid-module__7DL0oW__spinner\",\n  \"title\": \"VehicleGrid-module__7DL0oW__title\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 1130, "column": 0}, "map": {"version":3,"sources":["file:///Users/nan.jiang/Work/p2pcar/p2p-web/src/components/VehicleGrid.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect } from 'react';\nimport VehicleCard from './VehicleCard';\nimport VehicleFilters, { VehicleFilterValues } from './VehicleFilters';\nimport { searchVehicles } from '@/services/vehicleApi';\nimport styles from './VehicleGrid.module.css';\n\ntype SortOption = 'recommended' | 'price-low' | 'price-high' | 'rating';\n\nexport default function VehicleGrid() {\n  const [vehicles, setVehicles] = useState<any[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n  const [total, setTotal] = useState(0);\n  const [sortBy, setSortBy] = useState<SortOption>('recommended');\n  const [currentPage, setCurrentPage] = useState(0);\n  const [filters, setFilters] = useState<VehicleFilterValues>({\n    vehicleType: 'all',\n    priceRange: 'all',\n    seats: [],\n    fuelTypes: [],\n  });\n  const [activeFilters, setActiveFilters] = useState<VehicleFilterValues>({\n    vehicleType: 'all',\n    priceRange: 'all',\n    seats: [],\n    fuelTypes: [],\n  });\n  const pageSize = 9;\n\n  useEffect(() => {\n    fetchVehicles();\n  }, [sortBy, currentPage, activeFilters]);\n\n  const fetchVehicles = async () => {\n    try {\n      setLoading(true);\n      setError(null);\n\n      // Map sort option to backend sortBy parameter\n      const sortByMap: Record<SortOption, string> = {\n        'recommended': 'rating_desc',\n        'price-low': 'price_asc',\n        'price-high': 'price_desc',\n        'rating': 'rating_desc'\n      };\n\n      // Map price range to min/max price\n      let minPrice: number | undefined;\n      let maxPrice: number | undefined;\n      if (activeFilters.priceRange !== 'all') {\n        const range = activeFilters.priceRange;\n        if (range === '1000+') {\n          minPrice = 1000;\n          // maxPrice remains undefined (no upper limit)\n        } else if (range === '0-200') {\n          minPrice = 0;\n          maxPrice = 200;\n        } else {\n          const [min, max] = range.split('-').map(p => parseInt(p));\n          minPrice = min;\n          maxPrice = max;\n        }\n      }\n\n      // Map vehicle type to backend enum\n      const vehicleType = activeFilters.vehicleType === 'all' ? undefined : activeFilters.vehicleType.toUpperCase();\n\n      const { vehicles: fetchedVehicles, total: totalCount } = await searchVehicles({\n        vehicleType,\n        minPrice,\n        maxPrice,\n        seats: activeFilters.seats.length > 0 ? activeFilters.seats : undefined,\n        fuelType: activeFilters.fuelTypes.length > 0 ? activeFilters.fuelTypes : undefined,\n        sortBy: sortByMap[sortBy],\n        page: currentPage,\n        size: pageSize\n      });\n\n      setVehicles(fetchedVehicles);\n      setTotal(totalCount);\n    } catch (err) {\n      console.error('Failed to fetch vehicles:', err);\n      setError(err instanceof Error ? err.message : '加载车辆数据失败，请稍后重试');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const totalPages = Math.ceil(total / pageSize);\n\n  const handlePageChange = (page: number) => {\n    setCurrentPage(page);\n    window.scrollTo({ top: 0, behavior: 'smooth' });\n  };\n\n  const handleSortChange = (e: React.ChangeEvent<HTMLSelectElement>) => {\n    setSortBy(e.target.value as SortOption);\n    setCurrentPage(0);\n  };\n\n  const handleFiltersChange = (newFilters: VehicleFilterValues) => {\n    setFilters(newFilters);\n    setActiveFilters(newFilters);\n    setCurrentPage(0); // Reset to first page when filters change\n  };\n\n  const renderPagination = () => {\n    if (totalPages <= 1) return null;\n\n    const pages: (number | string)[] = [];\n    const maxVisible = 5;\n\n    if (totalPages <= maxVisible) {\n      for (let i = 0; i < totalPages; i++) {\n        pages.push(i);\n      }\n    } else {\n      pages.push(0);\n      if (currentPage > 2) pages.push('...');\n      const start = Math.max(1, currentPage - 1);\n      const end = Math.min(totalPages - 2, currentPage + 1);\n      for (let i = start; i <= end; i++) {\n        pages.push(i);\n      }\n      if (currentPage < totalPages - 3) pages.push('...');\n      pages.push(totalPages - 1);\n    }\n\n    return (\n      <div className={styles.pagination}>\n        <button\n          className={styles.pageButton}\n          onClick={() => handlePageChange(currentPage - 1)}\n          disabled={currentPage === 0}\n        >\n          上一页\n        </button>\n\n        {pages.map((page, index) => {\n          if (page === '...') {\n            return <span key={`ellipsis-${index}`} className={styles.ellipsis}>...</span>;\n          }\n          const pageNumber = page as number;\n          return (\n            <button\n              key={pageNumber}\n              className={`${styles.pageButton} ${currentPage === pageNumber ? styles.active : ''}`}\n              onClick={() => handlePageChange(pageNumber)}\n            >\n              {pageNumber + 1}\n            </button>\n          );\n        })}\n\n        <button\n          className={styles.pageButton}\n          onClick={() => handlePageChange(currentPage + 1)}\n          disabled={currentPage === totalPages - 1}\n        >\n          下一页\n        </button>\n      </div>\n    );\n  };\n\n  if (loading) {\n    return (\n      <div className={styles.gridContainer}>\n        <div className={styles.header}>\n          <h2 className={styles.title}>\n            可租车辆\n            <span className={styles.count}>(加载中...)</span>\n          </h2>\n        </div>\n        <VehicleFilters onFiltersChange={handleFiltersChange} loading={true} />\n        <div className={styles.loadingContainer}>\n          <div className={styles.spinner}></div>\n          <p className={styles.loadingText}>正在加载车辆数据...</p>\n        </div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className={styles.gridContainer}>\n        <div className={styles.header}>\n          <h2 className={styles.title}>\n            可租车辆\n            <span className={styles.count}>(0)</span>\n          </h2>\n        </div>\n        <VehicleFilters onFiltersChange={handleFiltersChange} loading={false} />\n        <div className={styles.errorContainer}>\n          <p className={styles.errorText}>{error}</p>\n          <button onClick={fetchVehicles} className={styles.retryButton}>\n            重新加载\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  if (vehicles.length === 0) {\n    return (\n      <div className={styles.gridContainer}>\n        <div className={styles.header}>\n          <h2 className={styles.title}>\n            可租车辆\n            <span className={styles.count}>(0)</span>\n          </h2>\n          <select className={styles.sortSelect} value={sortBy} onChange={handleSortChange}>\n            <option value=\"recommended\">推荐排序</option>\n            <option value=\"price-low\">价格从低到高</option>\n            <option value=\"price-high\">价格从高到低</option>\n            <option value=\"rating\">评分最高</option>\n          </select>\n        </div>\n        <VehicleFilters onFiltersChange={handleFiltersChange} loading={false} />\n        <div className={styles.emptyContainer}>\n          <p className={styles.emptyText}>暂无可用车辆</p>\n          <p className={styles.emptySubtext}>请尝试调整筛选条件</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className={styles.gridContainer}>\n      <div className={styles.header}>\n        <h2 className={styles.title}>\n          可租车辆\n          <span className={styles.count}>({total})</span>\n        </h2>\n        <select className={styles.sortSelect} value={sortBy} onChange={handleSortChange}>\n          <option value=\"recommended\">推荐排序</option>\n          <option value=\"price-low\">价格从低到高</option>\n          <option value=\"price-high\">价格从高到低</option>\n          <option value=\"rating\">评分最高</option>\n        </select>\n      </div>\n      <VehicleFilters onFiltersChange={handleFiltersChange} loading={false} />\n      <div className={styles.grid}>\n        {vehicles.map((vehicle) => (\n          <VehicleCard key={vehicle.id} vehicle={vehicle} />\n        ))}\n      </div>\n      {renderPagination()}\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}